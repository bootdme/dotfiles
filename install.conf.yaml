- defaults:
    link:
      create: true
      relink: true

# Remove dead symlinks
- clean:
    ~/:
    ~/.config:
      recursive: true

- shell:
    - [git submodule update --init --recursive, Installing submodules]

- link:
    # Neovim
    ~/.config/nvim:
      glob: true
      path: nvim/*
    # Fish
    ~/.config/fish:
      glob: true
      path: fish/*
    # Kitty
    ~/.config/kitty: kitty/
    # Git
    ~/.config/git/config.base: git/config.base

- ifmacos:
    - link:
        # Yabai
        ~/.config/yabai: yabai/
        # Skhd
        ~/.config/skhd: skhd/
    - tap: [homebrew/core, homebrew/services, homebrew/cask-fonts]
    - brew:
        - bash
        - fish
        - gnupg
        - pinentry-mac
        - exa
        - fzf
        - kubectl
        - eksctl
        - bat
        - wget
        - fd
        - ripgrep
        - google-chrome
        - go
        - koekeishiya/formulae/yabai
        - koekeishiya/formulae/skhd
        - kitty
        - neovim
        - postgresql
    - cask:
        [
          bitwarden,
          brave-browser,
          docker,
          spotify,
          discord,
          postman,
          font-jetbrains-mono-nerd-font,
        ]

- omnipkg:
    - install:
        [
          { dnf: neovim },
          { dnf: exa },
          { dnf: fzf },
          { dnf: fd-find },
          { dnf: ripgrep },
          { dnf: golang },
          { dnf: kitty },
          { dnf: postgresql },
          { dnf: spotify },
          { dnf: discord },
          { dnf: postman },
        ]

- defaults:
    link:
      create: true
      relink: true

# Remove dead symlinks
- clean:
    ~/:
    ~/.config:
      recursive: true

- link:
    # Neovim
    ~/.config/nvim:
      glob: true
      path: nvim/*
    # Fish
    ~/.config/fish:
      glob: true
      path: fish/*
    # Kitty
    ~/.config/kitty: kitty/
    # Git
    ~/.config/git/config.base: git/config.base

- shell:
    - [git submodule update --init --recursive, Installing submodules]

- ifmacos:
    - tap: [homebrew/core, homebrew/cask-fonts]
    - brew:
        - bash
        - fish
        - gnupg
        - pinentry-mac
        - exa
        - fzf
        - kubectl
        - eksctl
        - bat
        - wget
        - fd
        - ripgrep
        - google-chrome
        - go
        - kitty
        - FiloSottile/musl-cross/musl-cross
        - neovim
        - postgresql
    - cask:
        [
          bitwarden,
          brave-browser,
          docker,
          spotify,
          discord,
          postman,
          font-jetbrains-mono-nerd-font,
        ]

- defaults:
    link:
      create: true
      relink: true

# Remove dead symlinks
- clean:
    ~/:
    ~/.config:
      recursive: true

- shell:
    - [git submodule update --init --recursive, Installing submodules]

- link:
    # Neovim
    ~/.config/nvim:
      glob: true
      path: nvim/*
    # Fish
    ~/.config/fish:
      glob: true
      path: fish/*
    # Kitty
    ~/.config/kitty: kitty/
    # Git
    ~/.config/git/config.base: git/config.base

- ifmacos:
    - link:
        # Nu Shell
        ~/Library/Application Support/nushell/env.nu: nushell/env.nu
        ~/Library/Application Support/nushell/config.nu: nushell/config.nu

        ~/.config/.zoxide.nu: nushell/.zoxide.nu

        ~/.config/yabai: yabai/
        # Skhd
        ~/.config/skhd: skhd/
    - tap: [homebrew/core, homebrew/services, homebrew/cask-fonts]

- iffedora:
    - link:
        # i3
        ~/.config/i3: i3/

- omnipkg:
    - install:
        [
          { brew: bitwarden },
          { brew: cmake },
          { brew: discord },
          { brew: docker },
          { brew: fd },
          { brew: fish },
          { brew: firefox },
          { brew: font-jetbrains-mono-nerd-font },
          { brew: fzf },
          { brew: google-chrome },
          { brew: go },
          { brew: gnupg },
          { brew: kitty },
          { brew: koekeishiya/formulae/skhd },
          { brew: koekeishiya/formulae/yabai },
          { brew: neovim },
          { brew: pinentry-mac },
          { brew: postgresql },
          { brew: postman },
          { brew: spotify },
          { brew: trash },
          { brew: wget },
        ]

- cargo:
    - bat
    - bacon
    - cargo-info
    - cargo-install
    - exa
    - fnm
    - ripgrep
    - sccache
    - speedtest-rs
    - starship
    - nu
    - zoxide

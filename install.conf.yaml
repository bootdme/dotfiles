- defaults:
    link:
      create: true
      relink: true

# Remove dead symlinks
- clean:
    ~/:
    ~/.config:
      recursive: true

- shell:
    - [git submodule update --init --recursive, Installing submodules]

- link:
    # Neovim
    ~/.config/nvim:
      glob: true
      path: nvim/*
    # Fish
    ~/.config/fish:
      glob: true
      path: fish/*
    # Kitty
    ~/.config/kitty: kitty/
    # Git
    ~/.config/git/config.base: git/config.base

- ifmacos:
    - link:
        # Yabai
        ~/.config/yabai: yabai/
        # Skhd
        ~/.config/skhd: skhd/
    - tap: [homebrew/core, homebrew/services, homebrew/cask-fonts]

- iffedora:
    - link:
        # i3
        ~/.config/i3: i3/

- omnipkg:
    - install:
        [
          { brew: bat },
          { brew: bitwarden },
          { brew: brave-browser },
          { brew: discord },
          { brew: docker },
          { brew: eksctl },
          { brew: exa },
          { brew: fd },
          { brew: fish },
          { brew: font-jetbrains-mono-nerd-font },
          { brew: fzf },
          { brew: google-chrome },
          { brew: go },
          { brew: gnupg },
          { brew: kitty },
          { brew: kubectl },
          { brew: koekeishiya/formulae/skhd },
          { brew: koekeishiya/formulae/yabai },
          { brew: neovim },
          { brew: pinentry-mac },
          { brew: postgresql },
          { brew: postman },
          { brew: ripgrep },
          { brew: skhd },
          { brew: spotify },
          { brew: wget },
          { brew: yabai },
          { dnf: bat },
          { dnf: brave-browser },
          { dnf: copr enable elxreno/jetbrains-mono-nerd-fonts },
          { dnf: jetbrains-mono-fonts },
          { dnf: neovim },
          { dnf: exa },
          { dnf: fzf },
          { dnf: fd-find },
          { dnf: ripgrep },
          { dnf: golang },
          { dnf: kitty },
          { dnf: gcc-c++ },
          { dnf: postgresql },
          { dnf: discord },
          { dnf: fish },
        ]
